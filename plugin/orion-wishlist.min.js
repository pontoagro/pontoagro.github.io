!function(){var P=jQuery;if("function"!=typeof P.OrionWishlist){let g={elements:{shelf:{selector:".cf-storefront.main",attrId:"data-sku"}},wishlistPage:{idShelf:"7b8f00bc-2a4d-48fe-a944-4d8addf61af0",elements:{menssageEmpty:".cf-development.empty",loader:".cf-development.loader"}},entity:{name:"development",body:"cf-body"},total:{element:".icon-wishlist"},modal:{applySweetalert:!0,textConfirm:"Lista de desejos atualizada!"}};P.OrionWishlist=function(o){o=P.extend(!0,{},g,o);let e=P(o.elements.shelf.selector),s=o.elements.shelf.attrId,a={add:".o-shelf-wishlist--button.add",remove:".o-shelf-wishlist--button.remove"},n={add:".o-product-wishlist--button.add",remove:".o-product-wishlist--button.remove"},t={remove:".o-shelf-wishlist-user--button.remove"},l={dataUserParsed:null};var d;function i(){P(document).one("click",n.add,function(e){if(null==l.dataUserParsed)x();else{let e=l.dataUserParsed.useritems;null==e?e=[skuJson.productId]:e.push(skuJson.productId),U({id:l.dataUserParsed.id,email:l.dataUserParsed.email,useritems:e})}})}function r(){P(document).one("click",a.add,function(e){if(null==l.dataUserParsed)x();else{var t=P(this).closest(o.elements.shelf.selector).attr(o.elements.shelf.attrId),t=parseInt(t);let e=l.dataUserParsed.useritems;null==e?e=[t]:e.push(t),U({id:l.dataUserParsed.id,email:l.dataUserParsed.email,useritems:e})}})}function c(){P(document).one("click",n.remove,function(e){let t=l.dataUserParsed.useritems.filter(function(e){return e!==skuJson.productId});t.length||(t=[]),U({id:l.dataUserParsed.id,email:l.dataUserParsed.email,useritems:t})})}function u(){P(document).one("click",a.remove,function(e){let t=P(this).closest(o.elements.shelf.selector).attr(o.elements.shelf.attrId);t=parseInt(t);let s=l.dataUserParsed.useritems.filter(function(e){return e!==t});s.length||(s=[]),U({id:l.dataUserParsed.id,email:l.dataUserParsed.email,useritems:s})})}function m(){P(document).one("click",t.remove,function(e){let t=P(this).closest(o.elements.shelf.selector).attr(o.elements.shelf.attrId);t=parseInt(t);let s=l.dataUserParsed.useritems.filter(function(e){return e!==t});s.length||(s=[]),U({id:l.dataUserParsed.id,email:l.dataUserParsed.email,useritems:s})})}function f(){let t=!1;l.dataUserParsed.useritems.forEach(e=>{e==skuJson.productId&&(t=!0)}),t&&(P(n.add).addClass("hide"),P(n.remove).removeClass("hide"))}function I(){e.each(function(){let e=P(this),t=e.attr(s);l.dataUserParsed.useritems.find(function(e){return e==t})&&(e.find(a.add).addClass("hide"),e.find(a.remove).removeClass("hide"))})}function p(){let t=P(".cf-development.user-list"),a=null;l.dataUserParsed.useritems.forEach((e,t,s)=>{a=0==t?`fq=productId:${e}`:`${a}&fq=productId:${e}`});var e=`/buscapagina?${a}&PS=50&sl=${o.wishlistPage.idShelf}&cc=1&sm=0`;P.ajax({type:"GET",url:e}).done(function(e){t.append(e),m(),y()})}function h(){let e=P(o.total.element),t=l.dataUserParsed.useritems.length||0;e.text(t)}function v(){P(o.wishlistPage.elements.menssageEmpty).removeClass("hide"),P(o.wishlistPage.elements.loader).addClass("hide")}function U(t){var e=l.dataUserParsed.id;P.ajax({type:"PATCH",url:`/api/dataentities/${o.entity.name}/documents/${e}?_schema=${o.entity.body}`,dataType:"json",contentType:"application/json",headers:{"Content-Type":"application/json",Accept:"application/vnd.vtex.ds.v10+json"},data:JSON.stringify(t)}).done(function(e){localStorage.setItem("OW_listUser",JSON.stringify(t)),1==o.modal.applySweetalert?"undefined"==typeof swal?(alert(o.modal.textConfirm),location.reload()):swal({title:o.modal.textConfirm,icon:"success"}).then(()=>{location.reload()}):0==o.modal.applySweetalert&&(alert(o.modal.textConfirm),location.reload())})}function x(){return null==l.dataUserParsed&&(vtexid.start(),function(){let e=setInterval(function(){P("#vtexIdContainer.ng-scope").length&&(clearInterval(e),P("#vtexIdContainer.ng-scope").find("#vtexIdUI-confirm-access-code .close.vtexIdUI-close,#vtexIdUI-auth-selector .close.vtexIdUI-close,#vtexIdUI-classic-login .close.vtexIdUI-close,#vtexIdUI-email-confirmation .close.vtexIdUI-close,#vtexIdUI-mfa-phone-number-confirmation .close.vtexIdUI-close,#vtexIdUI-mfa-code-confirmation .close.vtexIdUI-close,#vtexIdUI-logout .close.vtexIdUI-close,#texIdUI-multiple-link-account .close.vtexIdUI-close,#vtexIdUI-change-pswd .close.vtexIdUI-close,#vtexIdUI-change-exp-pswd .close.vtexIdUI-close,#vtexIdUI-force-mfa-new-user .close.vtexIdUI-close,#vtexIdUI-force-mfa-mandatory .close.vtexIdUI-close,#vtexIdUI-configure-user-MFA .close.vtexIdUI-close,#vtexIdUI-show-message-and-redirect .close.vtexIdUI-close,#vtexIdUI-realod-page-message .close.vtexIdUI-close,#vtexIdUI-jsError-component .close.vtexIdUI-close,#vtexIdUI-choose-mfa-login-type .close.vtexIdUI-close,#vtexIdUI-configure-mfa-application .close.vtexIdUI-close,#vtexIdUI-force-mfa-date-reminder .close.vtexIdUI-close").on("click",function(){r(),u(),P(document.body).is(".product")&&(i(),c()),P(document.body).is(".wishlist")&&m()}))},50)}(),0)}function y(){P(".o-shelf-wishlist--button, .o-product-wishlist--button, .o-shelf-wishlist-user--button").removeClass("button-loaded")}r(),u(),P(document.body).is(".product")&&(i(),c()),localStorage&&localStorage.OW_listUser&&localStorage.OW_listUser.length?(d=JSON.parse(localStorage.OW_listUser),(l.dataUserParsed=d).useritems.length?(P(document.body).is(".product")&&f(),P(document.body).is(".wishlist")&&p(),h(),I(),y()):(y(),P(document.body).is(".wishlist")&&v())):vtexjs.checkout.getOrderForm().done(function(e){var s;e.clientProfileData&&null!=e.clientProfileData.email?(e=(s=e).clientProfileData.email,P.ajax({type:"GET",url:`/api/dataentities/${o.entity.name}/search?_schema=${o.entity.body}&email=${e}`,dataType:"json",contentType:"application/json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"}}).done(function(e){e.length?(localStorage.setItem("OW_listUser",JSON.stringify(e[0])),l.dataUserParsed=e[0],P(document.body).is(".product")&&f(),P(document.body).is(".wishlist")&&p(),h(),I()):function(){let t={email:s.clientProfileData.email,useritems:[]};P.ajax({type:"POST",url:`/api/dataentities/${o.entity.name}/documents?_schema=${o.entity.body}`,dataType:"json",contentType:"application/json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"},data:JSON.stringify(t)}).done(function(e){t.id=e.DocumentId,localStorage.setItem("OW_listUser",JSON.stringify(t))})}(),y()})):(y(),P(document.body).is(".wishlist")&&v())})}}}(),$(function(){$.OrionWishlist({total:{element:".cf-header--favorites--total"},modal:{applySweetalert:!0}})});